var INTERFACE_SINGLE_V=1,INTERFACE_SINGLE_E=2,INTERFACE_MULT_V=3,INTERFACE_MULT_E=4,INTERFACE_MCQ=5,INTERFACE_MCQ_MULT=6,INTERFACE_SUBSET_SINGLE=7,INTERFACE_SUBSET_MULT=8,INTERFACE_BLANK=9,INTERFACE_GRAPH_WEIGHTED_UNDIRECTED=10,INTERFACE_GRAPH_UNWEIGHTED_UNDIRECTED=11,INTERFACE_GRAPH_UNWEIGHTED_DIRECTED=12,INTERFACE_GRAPH_WEIGHTED_DIRECTED=13,ALLOW_NO_ANS=1,DISALLOW_NO_ANS=0;
function showAnswerInterface(b){$("#vertexText text, #vertex circle, #edge path").unbind("click").css("cursor","auto");$("#mcq").html("").hide();$("#subset").html("").hide();$("#subset .faux-v").unbind("click").css("cursor","auto");$("#graph-drawing-input").hide();$(".number-input").hide().unbind("change").attr("readonly",!1);$("#undo-ans").hide();$("#clear-ans").hide();$("#current-selection").html("").hide();if("TRAINING"==MODE){switch(qnTypeArr[b]){case INTERFACE_GRAPH_UNWEIGHTED_UNDIRECTED:$("#graph-drawing-input").show();
$("#graph-drawing-input").click(function(){drawGraph(!0,!0,qnGraphArr[b])});break;case INTERFACE_GRAPH_WEIGHTED_UNDIRECTED:$("#graph-drawing-input").show();$("#graph-drawing-input").click(function(){drawGraph(!1,!0,qnGraphArr[b])});break;case INTERFACE_GRAPH_UNWEIGHTED_DIRECTED:$("#graph-drawing-input").show();$("#graph-drawing-input").click(function(){drawGraph(!0,!1,qnGraphArr[b])});break;case INTERFACE_GRAPH_WEIGHTED_DIRECTED:$("#graph-drawing-input").show();$("#graph-drawing-input").click(function(){drawGraph(!1,
!1,qnGraphArr[b])});break;case INTERFACE_SINGLE_V:$("#vertexText text, #vertex circle").css("cursor","pointer");$("#vertexText text, #vertex circle").click(function(){var a=$(this).attr("class"),a=parseInt(a.substr(1)),a=parseInt(qnGraphArr[b].vl[a].text);$("#question-nav .qnno").eq(b-1).addClass("answered");setAns(b,a);showRecordedAns(b)});break;case INTERFACE_SINGLE_E:$("#edge path").css("cursor","pointer");$("#edge path").click(function(){var a=$(this).attr("id"),c=parseInt(a.substr(1)),a=parseInt(qnGraphArr[b].vl[qnGraphArr[b].el[c].vertexA].text),
c=parseInt(qnGraphArr[b].vl[qnGraphArr[b].el[c].vertexB].text);$("#question-nav .qnno").eq(b-1).addClass("answered");setAns(b,[a,c]);showRecordedAns(b)});break;case INTERFACE_MULT_V:$("#vertexText text, #vertex circle").css("cursor","pointer");$("#undo-ans").show();$("#clear-ans").show();$("#vertexText text, #vertex circle").click(function(){var a=ansArr[b];if(a==UNANSWERED||a==NO_ANSWER)a=[];var c=$(this).attr("class"),c=parseInt(c.substr(1)),c=parseInt(qnGraphArr[b].vl[c].text);$("#question-nav .qnno").eq(b-
1).addClass("answered");-1==a.indexOf(c)&&(a.push(c),setAns(b,a));showRecordedAns(b)});break;case INTERFACE_MULT_E:$("#edge path").css("cursor","pointer");$("#undo-ans").show();$("#clear-ans").show();$("#edge path").click(function(){var a=$(this).attr("id"),c=ansArr[b];if(c==UNANSWERED||c==NO_ANSWER)c=[];var e=parseInt(a.substr(1)),a=parseInt(qnGraphArr[b].vl[qnGraphArr[b].el[e].vertexA].text),e=parseInt(qnGraphArr[b].vl[qnGraphArr[b].el[e].vertexB].text),a=[a,e];$("#question-nav .qnno").eq(b-1).addClass("answered");
containsEdge(c,a)||(c.push(a),setAns(b,c));showRecordedAns(b)});break;case INTERFACE_MCQ:$("#mcq").show();for(var a=0;a<qnParamsArr[b].length;a++)$("#mcq").append('<div class="mcq-option"><span class="circle"></span><span class="option">'+qnParamsArr[b][a][0]+"</span></div>");$(".mcq-option .circle").click(function(){$("#question-nav .qnno").eq(b-1).addClass("answered");for(var a=$(this).next().html(),c=0;c<qnParamsArr[b].length;c++)if(qnParamsArr[b][c][0]==a){setAns(b,qnParamsArr[b][c][1]);break}$(".mcq-option .circle").css("background",
"#ddd");showRecordedAns(b)});break;case INTERFACE_MCQ_MULT:$("#mcq").show();for(a=0;a<qnParamsArr[b].length;a++)$("#mcq").append('<div class="mcq-option"><span class="box"></span><span class="option">'+qnParamsArr[b][a][0]+"</span></div>");$(".mcq-option .box").click(function(){var a=ansArr[b];if(a==UNANSWERED||a==NO_ANSWER)a=[];$("#question-nav .qnno").eq(b-1).addClass("answered");for(var c=$(this).next().html(),e=0;e<qnParamsArr[b].length;e++)if(qnParamsArr[b][e][0]==c){c=a.indexOf(qnParamsArr[b][e][1]);
-1==c?a.push(qnParamsArr[b][e][1]):a.splice(c,1);setAns(b,a);break}$(".mcq-option .box").css("background","#ddd");showRecordedAns(b)});break;case INTERFACE_SUBSET_SINGLE:$("#subset").show();for(a=0;a<qnParamsArr[b].length;a++)$("#subset").append('<span class="faux-v">'+qnParamsArr[b][a][0]+"</span>");$("#subset .faux-v").css("cursor","pointer");$("#subset .faux-v").click(function(){$("#question-nav .qnno").eq(b-1).addClass("answered");for(var a=$(this).html(),c=0;c<qnParamsArr[b].length;c++)qnParamsArr[b][c][0]==
a&&setAns(b,qnParamsArr[b][c][1]);showRecordedAns(b)});break;case INTERFACE_SUBSET_MULT:$("#subset").show();for(a=0;a<qnParamsArr[b].length;a++)$("#subset").append('<span class="faux-v">'+qnParamsArr[b][a][0]+"</span>");$("#subset .faux-v").css("cursor","pointer");$("#undo-ans").show();$("#clear-ans").show();$("#subset .faux-v").click(function(){var a=ansArr[b];if(a==UNANSWERED||a==NO_ANSWER)a=[];$("#question-nav .qnno").eq(b-1).addClass("answered");for(var c=$(this).html(),e,g=0;g<qnParamsArr[b].length;g++)qnParamsArr[b][g][0]==
c&&(e=qnParamsArr[b][g][1]);-1==a.indexOf(e)&&(a.push(e),setAns(b,a));showRecordedAns(b)});break;case INTERFACE_BLANK:$(".number-input").show().val(""),$(".number-input").change(function(){var a=$(this).val().replace(/[^\0-9]/ig,"");$(this).val(a);""==a?($("#question-nav .qnno").eq(b-1).removeClass("answered"),clearAns(b)):($("#question-nav .qnno").eq(b-1).addClass("answered"),$(".mcq-option .box").css("background","#ddd"),setAns(b,parseInt(a)))})}qnNoAnsArr[b]&&($("#mcq").show(),$("#mcq").append('<div class="mcq-option" id="no-answer"><span class="box"></span><span class="option">No answer</span></div>'),
$(".mcq-option .box").css("cursor","pointer"),$("#no-answer .box").click(function(){ansArr[b]!=NO_ANSWER?($("#question-nav .qnno").eq(b-1).addClass("answered"),setAns(b,NO_ANSWER)):($("#question-nav .qnno").eq(b-1).removeClass("answered"),clearAns(b));$(".mcq-option .box").css("background","#ddd");showRecordedAns(b);$(".number-input").val("")}))}else if("ANSWER"==MODE){gw.jumpToIteration(b,1);switch(qnTypeArr[b]){case INTERFACE_MCQ:$("#mcq").show();for(a=0;a<qnParamsArr[b].length;a++)$("#mcq").append('<div class="mcq-option"><span class="circle"></span><span class="option">'+
qnParamsArr[b][a][0]+"</span></div>");break;case INTERFACE_MCQ_MULT:$("#mcq").show();for(a=0;a<qnParamsArr[b].length;a++)$("#mcq").append('<div class="mcq-option"><span class="box"></span><span class="option">'+qnParamsArr[b][a][0]+"</span></div>");break;case INTERFACE_SUBSET_SINGLE:case INTERFACE_SUBSET_MULT:$("#subset").show();for(a=0;a<qnParamsArr[b].length;a++)$("#subset").append('<span class="faux-v">'+qnParamsArr[b][a][0]+"</span>");break;case INTERFACE_BLANK:$(".number-input").show().val("").attr("readonly",
"readonly")}qnNoAnsArr[b]&&($("#mcq").show(),$("#mcq").append('<div class="mcq-option" id="no-answer"><span class="box"></span><span class="option">No answer</span></div>'));showRecordedAns(b)}positionViz()}
function showRecordedAns(b){var a=ansArr[b].toString();qnNoAnsArr[b]&&(a==NO_ANSWER?($("#no-answer .box").css("background",surpriseColour),gw.jumpToIteration(qnNo,1)):$("#no-answer .box").css("background","#ddd"));if(a!=UNANSWERED&&a!=NO_ANSWER)switch(qnTypeArr[b]){case INTERFACE_SINGLE_V:gw.jumpToIteration(qnNo,1);var d=getVClass(qnGraphArr[b],a.split(","));setTimeout(function(){for(var b=0;b<d.length;b++)colourCircle(d[b])},50);break;case INTERFACE_SINGLE_E:gw.jumpToIteration(qnNo,1);var c=getEID(qnGraphArr[b],
a.split(","));setTimeout(function(){for(var b=0;b<c.length;b++)colourEdge(c[b])},50);break;case INTERFACE_MULT_V:d=getVClass(qnGraphArr[b],a.split(","));setTimeout(function(){for(var b=0;b<d.length;b++)colourCircle(d[b])},50);printCurrentSelection(b);break;case INTERFACE_MULT_E:c=getEID(qnGraphArr[b],a.split(","));setTimeout(function(){for(var b=0;b<c.length;b++)colourEdge(c[b])},50);printCurrentSelection(b);break;case INTERFACE_MCQ:var e=parseInt(a);var g="";for(a=0;a<qnParamsArr[b].length;a++)qnParamsArr[b][a][1]==
e&&(g=qnParamsArr[b][a][0]);$(".mcq-option .option").each(function(){$(this).html()==g&&$(this).prev().css("background",surpriseColour)});break;case INTERFACE_MCQ_MULT:var l=ansArr[b];for(var z=[],a=0;a<qnParamsArr[b].length;a++)-1!=l.indexOf(qnParamsArr[b][a][1])&&z.push(qnParamsArr[b][a][0]);$(".mcq-option .option").each(function(){-1!=z.indexOf($(this).html())&&$(this).prev().css("background",surpriseColour)});break;case INTERFACE_SUBSET_SINGLE:$("#subset .faux-v").css("background","#eee").css("color",
"black").css("border","3px solid black");e=parseInt(a);g="";for(a=0;a<qnParamsArr[b].length;a++)if(qnParamsArr[b][a][1]==e){g=qnParamsArr[b][a][0];break}$("#subset .faux-v").each(function(){$(this).html()==g&&$(this).css("background",surpriseColour).css("color","white").css("border","3px solid "+surpriseColour)});break;case INTERFACE_SUBSET_MULT:$("#subset .faux-v").css("background","#eee").css("color","black").css("border","3px solid black");l=a.split(",");for(a=0;a<l.length;a++){e=l[a];g="";for(var u=
0;u<qnParamsArr[b].length;u++)if(qnParamsArr[b][u][1]==e){g=qnParamsArr[b][u][0];break}$("#subset .faux-v").each(function(){$(this).html()==g&&$(this).css("background",surpriseColour).css("color","white").css("border","3px solid "+surpriseColour)})}printCurrentSelection(b);break;case INTERFACE_BLANK:a==UNANSWERED?$(".number-input").val(a):$(".number-input").val(parseInt(a))}"ANSWER"==MODE&&(printCurrentSelection(b),$(".bug-report-button").click(function(){$("#dark-overlay").fadeIn(function(){$("#bug-report-form").fadeIn()})}))}
function getArrayIntersect(b,a){for(var d=0,c=0,e=[];d<b.length&&c<a.length;)b[d]<a[c]?d++:(b[d]>a[c]||(e.push(b[d]),d++),c++);return e}function getArrayIntersectEdge(b,a){for(var d=0,c=0,e=[];d<b.length&&c<a.length;){var g=compareAnsEdges(b[d],a[c]);0>g?d++:(0<g||(e.push(d),d++),c++)}return e}
function formatMultVAnswer(b,a,d){qnJSONArr[b].ordered||(a.sort(),d.sort());b=getArrayIntersect(a,d);d="";if(0===b.length)return a.join(" , ");for(var c=0;c<a.length;c++)d=-1!==b.indexOf(a[c])?d+(a[c]+" , "):d+("<span style='color: #df3939'>"+a[c]+"</span> , ");return d.trim().replace(/(^,)|(,$)/g,"")}
function formatMultEAnswer(b,a,d){a=convertTo1DArray(a);d=convertTo1DArray(d);for(var c=[],e=[],g=0;g<a.length;g+=2)c.push({vertexA:parseInt(a[g]),vertexB:parseInt(a[g+1])});for(g=0;g<d.length;g+=2)e.push({vertexA:parseInt(d[g]),vertexB:parseInt(d[g+1])});qnJSONArr[b].ordered||(c.sort(compareAnsEdges),e.sort(compareAnsEdges));b=getArrayIntersectEdge(c,e);d="";if(0===b.length){for(g=0;g<a.length;g+=2)d+="( "+a[g]+" , "+a[g+1]+" ) , ";return d.slice(0,-3)}for(g=0;g<c.length;g++)d=-1!==b.indexOf(g)?
d+("( "+c[g].vertexA+" , "+c[g].vertexB+" ) , "):d+("<span style='color: #df3939'>( "+c[g].vertexA+" , "+c[g].vertexB+" )</span> , ");return d.slice(0,-3)}function convertTo1DArray(b){for(var a=[],d=0;d<b.length;d++)a=a.concat(b[d]);return a}function compareAnsEdges(b,a){var d=b.vertexA<b.vertexB?b.vertexA:b.vertexB,c=a.vertexA<a.vertexB?a.vertexA:a.vertexB,e=b.vertexA<b.vertexB?b.vertexB:b.vertexA,g=a.vertexA<a.vertexB?a.vertexB:a.vertexA;return d==c?e-g:d-c}
function printCurrentSelection(b){$("#current-selection").html("").hide().css("color","black");var a=ansArr[b];if("TRAINING"==MODE)if(a==UNANSWERED||a==NO_ANSWER)$("#current-selection").html("").hide();else switch(qnTypeArr[b]){case INTERFACE_MULT_V:case INTERFACE_SUBSET_MULT:$("#current-selection").html("Your answer is: &nbsp;&nbsp;<strong>"+a.join(" , ")+"</strong>").show();break;case INTERFACE_MULT_E:var d="";for(var c=0;c<a.length;c++)d+="( "+a[c][0]+" , "+a[c][1]+" ) , ";$("#current-selection").html("Your answer is: &nbsp;&nbsp;<strong>"+
d.slice(0,-3)+"</strong>").show()}else if("ANSWER"==MODE){if(a==UNANSWERED)$("#current-selection").html("<strong>You did not answer this question.</strong>").css("color","#df3939").show();else if(a!=NO_ANSWER)switch(qnTypeArr[b]){case INTERFACE_SINGLE_V:case INTERFACE_SUBSET_SINGLE:$("#current-selection").html("Your answer is: &nbsp;&nbsp;<strong>"+a+"</strong>").show();break;case INTERFACE_MULT_V:case INTERFACE_SUBSET_MULT:$("#current-selection").html("Your answer is: &nbsp;&nbsp;<strong>"+a.join(" , ")+
"</strong>").show();break;case INTERFACE_SINGLE_E:d="( "+a[0]+" , "+a[1]+" )";$("#current-selection").html("Your answer is: &nbsp;&nbsp;<strong>"+d+"</strong>").show();break;case INTERFACE_MULT_E:d="";for(c=0;c<a.length;c++)d+="( "+a[c][0]+" , "+a[c][1]+" ) , ";$("#current-selection").html("Your answer is: &nbsp;&nbsp;<strong>"+d.slice(0,-3)+"</strong>").show()}$("#ans-key").html("").hide();var e=anskeyArr[b];var g=explanationArr[b];if(checkCorrectness(anskeyArr[b]))$("#ans-key").html("<span style='color: #52bc69'><strong>You answered this question correctly! :)</strong></span> <a class='bug-report-button' id='bug-report-button-"+
b+"'>(Report Bug with Question)</a>").show();else if(a!=UNANSWERED&&$("#ans-key").html("<div style='color: #df3939; padding-bottom: 10px;'><strong>You answered this question wrongly.</strong></div>").show(),e instanceof Array&&0==e.length)$("#ans-key").append("The correct answer is: &nbsp;&nbsp;<strong>No answer</strong> <a class='bug-report-button' id='bug-report-button-"+b+"'>(Report Bug with Question)</a>").show(),a!=UNANSWERED&&0<g.length&&$("#ans-key").append("<div>"+g+"</div>");else{switch(qnTypeArr[b]){case INTERFACE_SINGLE_V:case INTERFACE_SUBSET_SINGLE:$("#ans-key").append("The correct answer is: &nbsp;&nbsp;<strong>"+
e+"</strong>").show();break;case INTERFACE_MULT_V:case INTERFACE_SUBSET_MULT:a!=UNANSWERED&&a!=NO_ANSWER?($("#current-selection").html("Your answer is: &nbsp;&nbsp;<strong>"+formatMultVAnswer(b,a,e)+"</strong>").show(),$("#ans-key").append("The correct answer is: &nbsp;&nbsp;<strong>"+formatMultVAnswer(b,e,a)+"</strong>").show()):$("#ans-key").append("The correct answer is: &nbsp;&nbsp;<strong>"+e.join(" , ")+"</strong>").show();break;case INTERFACE_SINGLE_E:d="( "+e[0]+" , "+e[1]+" )";$("#ans-key").append("The correct answer is: &nbsp;&nbsp;<strong>"+
d+"</strong>").show();break;case INTERFACE_MULT_E:if(a!=UNANSWERED&&a!=NO_ANSWER)$("#current-selection").html("Your answer is: &nbsp;&nbsp;<strong>"+formatMultEAnswer(b,a,e)+"</strong>").show(),$("#ans-key").append("The correct answer is: &nbsp;&nbsp;<strong>"+formatMultEAnswer(b,e,a)+"</strong>").show();else{d="";for(c=0;c<e.length;c+=2)d+="( "+e[c]+" , "+e[c+1]+" ) , ";$("#ans-key").append("The correct answer is: &nbsp;&nbsp;<strong>"+d.slice(0,-3)+"</strong>").show()}break;case INTERFACE_MCQ:$("#ans-key").append("The correct answer is: &nbsp;&nbsp;<strong>"+
qnParamsArr[b][e][0]+"</strong>").show();break;case INTERFACE_MCQ_MULT:d="";for(c=0;c<e.length;c++)d+="'"+qnParamsArr[b][e[c]][0]+"' , ";$("#ans-key").append("The correct answer is: &nbsp;&nbsp;<strong>"+d.slice(0,-3)+"</strong>").show();break;case INTERFACE_BLANK:$("#ans-key").append("The correct answer is: &nbsp;&nbsp;<strong>"+e+"</strong>").show()}a!=UNANSWERED&&0<g.length&&$("#ans-key").append("<div>"+g+"</div>");$("#ans-key").append(' <a class="bug-report-button" id="bug-report-button-'+b+'">(Report Bug with Question)</a>')}}}
function positionViz(){var b=60+$("#qn-text").height()+60;$("#viz svg").css("top",b+"px")}function getVClass(b,a){for(var d=[],c=0;c<a.length;c++){var e=b.vl,g;for(g in e)parseInt(e[g].text)==a[c]&&d.push("v"+g)}return d}function getEID(b,a){for(var d=[],c=0;c<a.length;c+=2){eListA=getVClass(b,[a[c]])[0].substring(1);eListB=getVClass(b,[a[c+1]])[0].substring(1);var e=b.el,g;for(g in e)parseInt(e[g].vertexA)==eListA&&parseInt(e[g].vertexB)==eListB&&d.push("e"+g)}return d}
function colourCircle(b){$("."+b).each(function(){"circle"==$(this).prop("tagName")&&($(this).attr("fill",surpriseColour),$(this).attr("stroke",surpriseColour));"text"==$(this).prop("tagName")&&$(this).attr("fill","white")})}function colourEdge(b){$("#"+b).attr("stroke",surpriseColour);$("#"+b).attr("stroke-width","5")}function containsEdge(b,a){for(var d=0;d<b.length;d++){var c=b[d];if(c[0]==a[0]&&c[1]==a[1])return!0}return!1}function checkCorrectness(b){return b==CORRECT};function GraphVisu(b,a,d,c,e){function g(){var b;x.selectAll("g").remove();E=x.append("svg:g").selectAll("path");B=x.append("svg:g").selectAll("g");H=x.append("svg:g").selectAll("text");B=B.data(h,function(a){return a.id});B.selectAll("circle").style("fill",function(a){return a===v?d3.rgb(K(a.id)).brighter().toString():K(a.id)});var a=B.enter().append("svg:g");a.append("svg:circle").attr("class","node").attr("r",16).attr("cx",function(a){return a.x}).attr("cy",function(a){return a.y}).style("fill",
function(a){return a===v?d3.rgb(255,138,39):d3.rgb(238,238,238)}).on("mousedown",function(a){d3.event.ctrlKey||(n=a,v=n===v?null:n,w=null,I.style("marker-end","url(#end-arrow)").classed("hidden",!1).attr("d","M"+n.x+","+n.y+"L"+n.x+","+n.y),g())}).on("mouseup",function(a){if(n)if(I.classed("hidden",!0).style("marker-end",""),F=a,F===n)C=F=n=null;else{var b=n;var c=F;a=!1===r?f.filter(function(a){return a.source===b&&a.target===c})[0]:f.filter(function(a){return a.source===b&&a.target===c||a.source===
c&&a.target===b})[0];a||(!1===y?(a=parseInt(Math.sqrt(Math.pow(b.x-c.x,2)+Math.pow(b.y-c.y,2))/100+1),a={source:b,target:c,weight:a}):a={source:b,target:c},f.push(a));w=a;v=null;g()}});a.append("svg:text").attr("x",function(a){return a.x}).attr("y",function(a){return a.y+16/3}).attr("class","id").text(function(a){return a.id});E=E.data(f);E.classed("selected",function(a){return a===w});E.enter().append("svg:path").attr("class","link").classed("selected",function(a){return a===w}).style("marker-end",
function(a){if(!1===r)return"url(#end-arrow)"}).attr("d",function(a){var b=a.target.x-a.source.x,c=a.target.y-a.source.y,d=Math.sqrt(b*b+c*c),b=b/d,c=c/d;targetPadding=17;!0===r&&(targetPadding=12);sourceX=a.source.x+12*b;sourceY=a.source.y+12*c;targetX=a.target.x-targetPadding*b;targetY=a.target.y-targetPadding*c;if(!0!==r&&f.filter(function(b){return b.source===a.target&&b.target===a.source})[0]){var e=a.source.id<a.target.id?1:2;c=l(sourceX,sourceY,targetX,targetY,e).x;d=l(sourceX,sourceY,targetX,
targetY,e).y;b=l(targetX,targetY,sourceX,sourceY,e).x;e=l(targetX,targetY,sourceX,sourceY,e).y;return"M"+b+","+e+"L"+c+","+d}return"M"+sourceX+","+sourceY+"L"+targetX+","+targetY}).on("mousedown",function(a){d3.event.ctrlKey||(C=a,w=C===w?null:C,v=null,g())});!1===y&&(H=H.data(f),H.enter().append("svg:text").attr("class","weight").attr("x",function(a){var b=a.source.id<a.target.id?1:2;var c=0;f.filter(function(b){return b.source===a.target&&b.target===a.source})[0]&&(c=2);return z(a.source.x,a.source.y,
a.target.x,a.target.y,b,c).x}).attr("y",function(a){var b=a.source.id<a.target.id?1:2;var c=0;f.filter(function(b){return b.source===a.target&&b.target===a.source})[0]&&(c=2);return z(a.source.x,a.source.y,a.target.x,a.target.y,b,c).y}).text(function(a){return a.weight}));for(var c=-1,d=h.length,e=f.length,m=[],a=0;a<h.length;a++)h[a].id>c&&(c=h[a].id);c++;var k=Array(c);for(a=0;a<c;a++)k[a]=!1;for(a=0;a<h.length;a++)k[h[a].id]=!0;for(a=0;a<c;a++)for(m[a]=[],b=0;b<c;b++)m[a][b]=!0===k[a]&&!0===k[b]?
"0":"x";if(!0===r)if(!0===y)for(a=0;a<f.length;a++)m[f[a].source.id][f[a].target.id]="1",m[f[a].target.id][f[a].source.id]="1";else for(a=0;a<f.length;a++)m[f[a].source.id][f[a].target.id]=f[a].weight.toString(),m[f[a].target.id][f[a].source.id]=f[a].weight.toString();else if(!0===y)for(a=0;a<f.length;a++)m[f[a].source.id][f[a].target.id]="1";else for(a=0;a<f.length;a++)m[f[a].source.id][f[a].target.id]=f[a].weight.toString();for(a=0;a<c;a++)for(b=0;b<c;b++);d3.select("#adj_matrix_table").selectAll("tr").remove();
var q=d3.select("#adj_matrix_table").select("tbody");k=q.append("tr");k.append("td").text(" ");for(a=0;a<c;a++)k.append("td").text(a.toString()).attr("class","bold");for(a=0;a<c;a++)for(k=q.append("tr"),k.append("td").text(a.toString()).attr("class","bold"),b=0;b<c;b++)k.append("td").text(m[a][b]);for(var A=[],m=[],a=0;a<c;a++)m[a]=[];for(a=0;a<c;a++)A[a]=[];if(!0===y)for(a=0;a<f.length;a++)m[f[a].source.id].push(f[a].target.id.toString()),A[f[a].source.id].push(f[a].target.id),!0===r&&(m[f[a].target.id].push(f[a].source.id.toString()),
A[f[a].target.id].push(f[a].source.id));else for(a=0;a<f.length;a++)m[f[a].source.id].push("("+f[a].weight.toString()+","+f[a].target.id.toString()+")"),A[f[a].source.id].push(f[a].target.id),!0===r&&(m[f[a].target.id].push("("+f[a].weight.toString()+","+f[a].source.id.toString()+")"),A[f[a].target.id].push(f[a].source.id));for(a=0;a<c;a++)for(b=0;b<m[a].length;b++);d3.select("#adj_list_table").selectAll("tr").remove();q=d3.select("#adj_list_table").select("tbody");for(a=0;a<c;a++)for(k=q.append("tr"),
k.append("td").text(a.toString()+" : ").attr("class","bold"),b=0;b<m[a].length;b++)k.append("td").text(m[a][b]);for(a=0;a<f.length;a++);d3.select("#edge_list_table").selectAll("tr").remove();b=d3.select("#edge_list_table").select("tbody");for(a=0;a<f.length;a++)k=b.append("tr"),k.append("td").text(a.toString()+" : ").attr("class","bold"),!0!==y&&k.append("td").text(f[a].weight.toString()),k.append("td").text(f[a].source.id.toString()),k.append("td").text(f[a].target.id.toString());q='{"vl":{';for(a=
0;a<h.length;a++){k='"'+a+'":';var p={};p.cx=h[a].x;p.cy=h[a].y;p.text=h[a].id.toString();p.state="default";b=JSON.stringify(p);q=q+k+b;a!==h.length-1&&(q+=",")}q=q.concat('},"el":{');for(a=0;a<f.length;a++){k='"'+a+'":';p={};for(b=0;b<h.length;b++)h[b].id==f[a].source.id&&(p.vertexA=b),h[b].id==f[a].target.id&&(p.vertexB=b);p.type=0;!1===r&&(p.type=1);p.weight=0;!1===y&&(p.weight=f[a].weight);p.state="default";p.displayWeight=!1;!1===y&&(p.displayWeight=!0);p.animateHighlighed=!1;b=JSON.stringify(p);
q=q+k+b;a!==f.length-1&&(q+=",")}JSONresult=q=q.concat("}}");a=!1;!0===r&&e===d-1&&(a=!0);!0===a?d3.select("#isTree").text(" : Yes"):d3.select("#isTree").text(" : No");a=!1;!0===r&&e===d*(d-1)/2&&(a=!0);!0===a?d3.select("#isComplete").text(" : Yes"):d3.select("#isComplete").text(" : No");e=[];for(a=0;a<c;a++)e[a]=-1;c=!0;if(0===d)c=!1;else for(d=[],d.push(h[0].id);0<d.length;){b=d.shift();for(a=0;a<m[b].length;a++)if(k=m[b][a],-1===e[k])e[k]=1-e[b],d.push(k);else if(e[k]===e[b]){c=!1;break}if(!1===
c)break}!0===c?d3.select("#isBipartite").text(" : Yes"):d3.select("#isBipartite").text(" : No");d=!0;if(!0===r)d=!1;else for(var u=function(a,b){a!==b&&(t[b]=!0);for(var c=0;c<A[b].length;c++)!1===t[A[b][c]]&&u(b,A[b][c])},t=[10,!1],a=0;a<h.length;a++){for(b=0;b<h.length;b++)t[b]=!1;u(h[a].id,h[a].id);if(!0===t[h[a].id]){d=!1;break}}!0===d?d3.select("#isDAG").text(" : Yes"):d3.select("#isDAG").text(" : No")}function l(a,b,c,d,e){if(a===c)return 1===e?{x:c-4,y:d}:{x:c+4,y:d};if(b===d)return 1===e?
{x:c,y:d-4}:{x:c,y:d+4};var f=-1/((d-b)/(c-a)),g=d-f*c;d=Math.sqrt(Math.pow(c-a,2)+Math.pow(d-b,2));var h=g-b;b=1+f*f;c=2*f*h-2*a;d=Math.sqrt(c*c-4*b*(a*a+h*h-(d*d+16)));a=(-c+d)/(2*b);b=(-c-d)/(2*b);return 2===e?{x:a,y:f*a+g}:{x:b,y:f*b+g}}function z(a,b,c,d,e,f){c=(a+c)/2;d=(b+d)/2;if(a===c)return 2===e?{x:c+16,y:d}:{x:c-16,y:d};if(b===d)return 2===e?{x:c,y:d+16}:{x:c,y:d-16};var g=-1/((d-b)/(c-a)),h=d-g*c;c=Math.sqrt(Math.pow(c-a,2)+Math.pow(d-b,2));d=16;1===f&&(d=50);2===f&&(d=18);var J=h-b;b=
1+g*g;f=2*g*J-2*a;c=Math.sqrt(f*f-4*b*(a*a+J*J-(c*c+d*d)));a=(-f+c)/(2*b);c=(-f-c)/(2*b);return 2===e?{x:a,y:g*a+h}:{x:c,y:g*c+h}}function u(a){f.filter(function(b){return b.source===a||b.target===a}).map(function(a){f.splice(f.indexOf(a),1)})}var G=2*(!1===b?1:0)+(!1===a?1:0)+1;$("#menu1").removeClass("selected-viz");$("#menu2").removeClass("selected-viz");$("#menu3").removeClass("selected-viz");$("#menu4").removeClass("selected-viz");$("#menu"+G.toString()).toggleClass("selected-viz");var r=b,y=
a,K=d3.scale.category10();d3.select("#drawgraph #viz").selectAll("svg").remove();var x=d3.select("#drawgraph #viz").append("svg").attr("width",890).attr("height",450),t=Array(100);for(b=t.length;0<=b;--b)t[b]=0;var h=[{id:0,x:100,y:100},{id:1,x:200,y:200},{id:2,x:300,y:300}],D=3;var f=!0===y?[{source:h[0],target:h[1]},{source:h[1],target:h[2]}]:[{source:h[0],target:h[1],weight:2},{source:h[1],target:h[2],weight:2}];void 0==c||void 0==e?(f=[],h=[]):(h=c,f=e);D=0;"tree"===d&&(h=[{id:0,x:420,y:80},{id:1,
x:200,y:200},{id:2,x:120,y:300},{id:3,x:200,y:300},{id:4,x:140,y:380},{id:5,x:240,y:380},{id:6,x:280,y:300},{id:7,x:600,y:200},{id:8,x:500,y:360},{id:9,x:700,y:360}],f=[{source:{id:0,x:420,y:80},target:{id:1,x:200,y:200}},{source:{id:1,x:200,y:200},target:{id:2,x:120,y:300}},{source:{id:1,x:200,y:200},target:{id:3,x:200,y:300}},{source:{id:3,x:200,y:300},target:{id:4,x:140,y:380}},{source:{id:3,x:200,y:300},target:{id:5,x:240,y:380}},{source:{id:1,x:200,y:200},target:{id:6,x:280,y:300}},{source:{id:0,
x:420,y:80},target:{id:7,x:600,y:200}},{source:{id:7,x:600,y:200},target:{id:8,x:500,y:360}},{source:{id:7,x:600,y:200},target:{id:9,x:700,y:360}}]);"star"===d&&(h=[{id:0,x:240,y:160},{id:1,x:560,y:160},{id:2,x:300,y:320},{id:3,x:400,y:80},{id:4,x:500,y:320}],f=[{source:{id:0,x:240,y:160},target:{id:1,x:560,y:160}},{source:{id:1,x:560,y:160},target:{id:2,x:300,y:320}},{source:{id:2,x:300,y:320},target:{id:3,x:400,y:80}},{source:{id:3,x:400,y:80},target:{id:4,x:500,y:320}},{source:{id:4,x:500,y:320},
target:{id:0,x:240,y:160}}]);"k5"===d&&(h=[{id:0,x:240,y:160},{id:1,x:560,y:160},{id:2,x:300,y:320},{id:3,x:400,y:80},{id:4,x:500,y:320}],f=[{source:{id:0,x:240,y:160},target:{id:1,x:560,y:160}},{source:{id:1,x:560,y:160},target:{id:2,x:300,y:320}},{source:{id:2,x:300,y:320},target:{id:3,x:400,y:80}},{source:{id:3,x:400,y:80},target:{id:4,x:500,y:320}},{source:{id:4,x:500,y:320},target:{id:0,x:240,y:160}},{source:{id:0,x:240,y:160},target:{id:3,x:400,y:80}},{source:{id:3,x:400,y:80},target:{id:1,
x:560,y:160}},{source:{id:1,x:560,y:160},target:{id:4,x:500,y:320}},{source:{id:4,x:500,y:320},target:{id:2,x:300,y:320}},{source:{id:2,x:300,y:320},target:{id:0,x:240,y:160}}]);"CP2.2"===d&&(h=[{id:0,x:280,y:320},{id:1,x:180,y:220},{id:2,x:360,y:220},{id:3,x:180,y:100},{id:4,x:360,y:100},{id:5,x:520,y:100},{id:6,x:520,y:220}],f=[{source:{id:0,x:280,y:320},target:{id:1,x:180,y:220}},{source:{id:1,x:180,y:220},target:{id:2,x:360,y:220}},{source:{id:3,x:180,y:100},target:{id:1,x:180,y:220}},{source:{id:3,
x:180,y:100},target:{id:4,x:360,y:100}},{source:{id:4,x:360,y:100},target:{id:2,x:360,y:220}},{source:{id:4,x:360,y:100},target:{id:5,x:520,y:100}},{source:{id:5,x:520,y:100},target:{id:6,x:520,y:220}},{source:{id:2,x:360,y:220},target:{id:0,x:280,y:320}}]);"CP4.2"===d&&(h=[{id:0,x:220,y:100},{id:1,x:220,y:200},{id:2,x:220,y:300},{id:3,x:220,y:400},{id:4,x:360,y:100},{id:5,x:360,y:200},{id:6,x:360,y:400},{id:7,x:500,y:100},{id:8,x:500,y:200},{id:9,x:500,y:400}],f=[{source:{id:0,x:220,y:100},target:{id:1,
x:220,y:200}},{source:{id:1,x:220,y:200},target:{id:2,x:220,y:300}},{source:{id:0,x:220,y:100},target:{id:4,x:360,y:100}},{source:{id:4,x:360,y:100},target:{id:7,x:500,y:100}},{source:{id:5,x:360,y:200},target:{id:8,x:500,y:200}},{source:{id:4,x:360,y:100},target:{id:5,x:360,y:200}},{source:{id:5,x:360,y:200},target:{id:6,x:360,y:400}},{source:{id:7,x:500,y:100},target:{id:8,x:500,y:200}},{source:{id:8,x:500,y:200},target:{id:9,x:500,y:400}},{source:{id:2,x:220,y:300},target:{id:3,x:220,y:400}},{source:{id:3,
x:220,y:400},target:{id:6,x:360,y:400}},{source:{id:6,x:360,y:400},target:{id:9,x:500,y:400}}]);"CP4.5"===d&&(h=[{id:0,x:200,y:100},{id:1,x:400,y:100},{id:2,x:580,y:100},{id:3,x:200,y:240},{id:4,x:400,y:240},{id:5,x:580,y:240}],f=[{source:{id:0,x:200,y:100},target:{id:1,x:400,y:100}},{source:{id:1,x:400,y:100},target:{id:2,x:580,y:100}},{source:{id:1,x:400,y:100},target:{id:3,x:200,y:240}},{source:{id:1,x:400,y:100},target:{id:4,x:400,y:240}},{source:{id:4,x:400,y:240},target:{id:5,x:580,y:240}},
{source:{id:1,x:400,y:100},target:{id:5,x:580,y:240}}]);"CP4.8"===d&&(h=[{id:0,x:100,y:100},{id:1,x:260,y:100},{id:2,x:260,y:240},{id:3,x:400,y:100},{id:4,x:540,y:100},{id:5,x:680,y:100},{id:6,x:540,y:240},{id:7,x:680,y:240}],f=[{source:{id:0,x:100,y:100},target:{id:1,x:260,y:100}},{source:{id:1,x:260,y:100},target:{id:2,x:260,y:240}},{source:{id:1,x:260,y:100},target:{id:3,x:400,y:100}},{source:{id:2,x:260,y:240},target:{id:3,x:400,y:100}},{source:{id:3,x:400,y:100},target:{id:4,x:540,y:100}},{source:{id:4,
x:540,y:100},target:{id:5,x:680,y:100}},{source:{id:5,x:680,y:100},target:{id:7,x:680,y:240}},{source:{id:7,x:680,y:240},target:{id:6,x:540,y:240}},{source:{id:6,x:540,y:240},target:{id:4,x:540,y:100}}]);"CP2.5A"===d&&(h=[{id:0,x:100,y:100},{id:1,x:100,y:200},{id:2,x:100,y:300},{id:3,x:260,y:100},{id:4,x:260,y:200},{id:5,x:260,y:300},{id:6,x:420,y:100},{id:7,x:420,y:200},{id:8,x:420,y:300}],f=[{source:{id:0,x:100,y:100},target:{id:1,x:100,y:200}},{source:{id:1,x:100,y:200},target:{id:2,x:100,y:300}},
{source:{id:2,x:100,y:300},target:{id:5,x:260,y:300}},{source:{id:5,x:260,y:300},target:{id:8,x:420,y:300}},{source:{id:8,x:420,y:300},target:{id:7,x:420,y:200}},{source:{id:7,x:420,y:200},target:{id:6,x:420,y:100}}]);"CP2.5B"===d&&(h=[{id:0,x:100,y:100},{id:1,x:100,y:200},{id:2,x:100,y:300},{id:3,x:260,y:100},{id:4,x:260,y:200},{id:5,x:260,y:300},{id:6,x:420,y:100},{id:7,x:420,y:200},{id:8,x:420,y:300}],f=[{source:{id:0,x:100,y:100},target:{id:1,x:100,y:200}},{source:{id:1,x:100,y:200},target:{id:2,
x:100,y:300}},{source:{id:2,x:100,y:300},target:{id:5,x:260,y:300}},{source:{id:5,x:260,y:300},target:{id:8,x:420,y:300}},{source:{id:8,x:420,y:300},target:{id:7,x:420,y:200}},{source:{id:7,x:420,y:200},target:{id:6,x:420,y:100}},{source:{id:3,x:260,y:100},target:{id:4,x:260,y:200}},{source:{id:4,x:260,y:200},target:{id:5,x:260,y:300}},{source:{id:1,x:100,y:200},target:{id:4,x:260,y:200}},{source:{id:0,x:100,y:100},target:{id:3,x:260,y:100}}]);"CP2.5C"===d&&(h=[{id:0,x:100,y:100},{id:1,x:100,y:200},
{id:2,x:100,y:300},{id:3,x:260,y:100},{id:4,x:260,y:200},{id:5,x:260,y:300},{id:6,x:420,y:100},{id:7,x:420,y:200},{id:8,x:420,y:300}],f=[{source:{id:0,x:100,y:100},target:{id:7,x:420,y:200}},{source:{id:0,x:100,y:100},target:{id:5,x:260,y:300}},{source:{id:3,x:260,y:100},target:{id:2,x:100,y:300}},{source:{id:3,x:260,y:100},target:{id:8,x:420,y:300}},{source:{id:6,x:420,y:100},target:{id:1,x:100,y:200}},{source:{id:6,x:420,y:100},target:{id:5,x:260,y:300}},{source:{id:1,x:100,y:200},target:{id:8,
x:420,y:300}},{source:{id:7,x:420,y:200},target:{id:2,x:100,y:300}}]);"DAG"===d&&(h=[{id:0,x:100,y:100},{id:1,x:220,y:100},{id:2,x:220,y:220},{id:3,x:340,y:100},{id:4,x:460,y:100},{id:5,x:600,y:100},{id:6,x:460,y:220},{id:7,x:600,y:220}],f=[{source:{id:0,x:100,y:100},target:{id:1,x:220,y:100}},{source:{id:1,x:220,y:100},target:{id:2,x:220,y:220}},{source:{id:7,x:600,y:220},target:{id:6,x:460,y:220}},{source:{id:2,x:220,y:220},target:{id:5,x:600,y:100}},{source:{id:3,x:340,y:100},target:{id:4,x:460,
y:100}},{source:{id:1,x:220,y:100},target:{id:3,x:340,y:100}},{source:{id:2,x:220,y:220},target:{id:3,x:340,y:100}}]);"MST"===d&&(h=[{id:0,x:100,y:140},{id:1,x:240,y:40},{id:2,x:360,y:140},{id:3,x:240,y:240},{id:4,x:100,y:360}],f=[{source:{id:0,x:100,y:140},target:{id:1,x:240,y:40},weight:"4"},{source:{id:1,x:240,y:40},target:{id:2,x:360,y:140},weight:2},{source:{id:2,x:360,y:140},target:{id:3,x:240,y:240},weight:"8"},{source:{id:3,x:240,y:240},target:{id:0,x:100,y:140},weight:"6"},{source:{id:0,
x:100,y:140},target:{id:2,x:360,y:140},weight:"4"},{source:{id:3,x:240,y:240},target:{id:4,x:100,y:360},weight:"9"},{source:{id:4,x:100,y:360},target:{id:0,x:100,y:140},weight:"6"}]);"Flow"===d&&(h=[{id:0,x:280,y:100},{id:1,x:580,y:300},{id:2,x:280,y:300},{id:3,x:580,y:100}],f=[{source:{id:0,x:280,y:100},target:{id:2,x:280,y:300},weight:"70"},{source:{id:2,x:280,y:300},target:{id:0,x:280,y:100},weight:"70"},{source:{id:0,x:280,y:100},target:{id:3,x:580,y:100},weight:"30"},{source:{id:3,x:580,y:100},
target:{id:0,x:280,y:100},weight:"30"},{source:{id:2,x:280,y:300},target:{id:1,x:580,y:300},weight:"25"},{source:{id:1,x:580,y:300},target:{id:2,x:280,y:300},weight:"25"},{source:{id:3,x:580,y:100},target:{id:1,x:580,y:300},weight:"70"},{source:{id:1,x:580,y:300},target:{id:3,x:580,y:100},weight:"70"},{source:{id:3,x:580,y:100},target:{id:2,x:280,y:300},weight:"5"},{source:{id:2,x:280,y:300},target:{id:3,x:580,y:100},weight:"5"}]);D=h.length;for(b=0;b<h.length;b++)t[h[b].id]++;for(b=0;b<f.length;b++)for(d=
0;d<h.length;d++)h[d].id===f[b].source.id&&(f[b].source=h[d]),h[d].id===f[b].target.id&&(f[b].target=h[d]);x.append("svg:defs").append("svg:marker").attr("id","end-arrow").attr("viewBox","0 -5 10 10").attr("refX",6).attr("markerWidth",3).attr("markerHeight",3).attr("orient","auto").append("svg:path").attr("d","M0,-5L10,0L0,5").attr("fill","#000");var I=x.append("svg:path").attr("class","link dragline hidden").attr("d","M0,0L0,0"),E,B,H,v=null,w=null,C=null,n=null,F=null,L=d3.behavior.drag().on("drag",
function(a){var b,c;d3.select(this).select("circle").attr("cx",function(){return b=d3.mouse($("svg")[0])[0]}).attr("cy",function(){return c=d3.mouse($("svg")[0])[1]});a.x=b;a.y=c;a.x=parseInt(a.x)-parseInt(a.x)%20;a.y=parseInt(a.y)-parseInt(a.y)%20;g()});x.on("mousedown",function(){x.classed("active",!0);if(!(d3.event.ctrlKey||n||C)){var a=d3.mouse(this),b={id:D};t[D]++;for(var c=0;100>c;c++)if(0===t[c]){D=c;break}b.x=a[0];b.y=a[1];b.x=parseInt(b.x)-parseInt(b.x)%20;b.y=parseInt(b.y)-parseInt(b.y)%
20;h.push(b);g()}}).on("mousemove",function(){n&&(I.attr("d","M"+n.x+","+n.y+"L"+d3.mouse(this)[0]+","+d3.mouse(this)[1]),g())}).on("mouseup",function(){n&&I.classed("hidden",!0);x.classed("active",!1);C=F=n=null});d3.select(window).on("keydown",function(){var a;17===d3.event.keyCode&&(B.call(L),x.classed("ctrl",!0));if(v||w)switch(d3.event.keyCode){case 46:if(v){h.splice(h.indexOf(v),1);u(v);for(a=0;a<h.length;a++)h[a].id>v.id&&h[a].id--;for(a=0;100>a;a++)t[a]=0;for(a=0;a<h.length;a++)t[h[a].id]++;
for(a=0;100>a;a++)if(0===t[a]){D=a;break}}else w&&f.splice(f.indexOf(w),1);v=w=null;g();break;case 13:if(w&&!1===y){for(;!(a=prompt("Enter new weight : ( <= 99)"),99>=a););var b=f.indexOf(w);f[b].weight=a}g()}}).on("keyup",function(){17===d3.event.keyCode&&(B.on("mousedown.drag",null).on("touchstart.drag",null),x.classed("ctrl",!1))});g()}
function drawGraphVisu(b,a,d){var c=d.vl;d=d.el;var e=[],g=[],l;for(l in c)e.push({id:parseInt(l),x:c[l].cx,y:c[l].cy});for(l in d){var z=c[d[l].vertexA].cx,u=c[d[l].vertexA].cy,G=c[d[l].vertexB].cx,r=c[d[l].vertexB].cy;a?g.push({source:{id:d[l].vertexA,x:z,y:u},target:{id:d[l].vertexB,x:G,y:r}}):g.push({weight:d[l].weight,source:{id:d[l].vertexA,x:z,y:u},target:{id:d[l].vertexB,x:G,y:r}})}GraphVisu(b,a,null,e,g)}
function drawDone(b,a){""!=JSONresult&&(qnGraphArr[qnNo]=convertGraphJSON(JSON.parse(JSONresult),b,a),setAns(qnNo,JSONresult),gw.startAnimation(qnGraphArr),gw.pause(),showQn(qnNo));$("#drawgraph").fadeOut();$("#dark-overlay").fadeOut()}function drawCancel(){$("#drawgraph").fadeOut();$("#dark-overlay").fadeOut()}
function drawGraph(b,a,d){JSONresult="";var c='\r\n      <p id="drawgraph-instructions"></p>\r\n      <div id="viz">\r\n          <svg id="drawgraph-svg"><defs><marker id="end-arrow" viewBox="0 -5 10 10" refX="6" markerWidth="3" markerHeight="3" orient="auto"><path d="M0,-5L10,0L0,5" fill="#000"></path></marker></defs><path class="link dragline hidden" d="M0,0L0,0"></path><g><path class="link" d="M108.48528137423857,108.48528137423857L191.51471862576142,191.51471862576142"></path><path class="link" d="M208.48528137423858,208.48528137423858L291.5147186257614,291.5147186257614"></path></g><g><g><circle class="node" r="16" cx="100" cy="100" style="fill: rgb(238, 238, 238);"></circle><text x="100" y="105.33333333333333" class="id">0</text></g><g><circle class="node" r="16" cx="200" cy="200" style="fill: rgb(238, 238, 238);"></circle><text x="200" y="205.33333333333334" class="id">1</text></g><g><circle class="node" r="16" cx="300" cy="300" style="fill: rgb(238, 238, 238);"></circle><text x="300" y="305.3333333333333" class="id">2</text></g></g><g></g>\r\n              <text x = "400" y = "100"> &bull; Click on empty space to add vertex</text>\r\n              <text x = "400" y = "125"> &bull; Drag from vertex to vertex to add edge</text>\r\n              <text x = "400" y = "150"> &bull; Select + Delete to delete vertex/edge</text>\r\n              <text x = "400" y = "175"> &bull; Select Edge + Enter to change edge\'s weight</text>\r\n              <text x = "400" y = "200"> &bull; Press Ctrl to Drag vertex around</text>\r\n          </svg>\r\n      </div>\r\n\r\n      <div id="drawgraph-actions">\r\n          <p onclick=drawCancel()>Cancel</p>\r\n          <p id="drawgraph-clear">Clear</p>\r\n          <p onclick="drawDone('+b+
", "+a+');">Done</p>\r\n      </div>',e=convertGraphJSON(d,b,a);$("#drawgraph").html(c);$("#drawgraph-instructions").html(qnTextArr[qnNo]);$("#dark-overlay").fadeIn(function(){$("#drawgraph").fadeIn()});$("#drawgraph-clear").click(function(){GraphVisu(a,b)});$("#drawgraph-svg").click(function(){drawGraphVisu(a,b,e)})}
function convertGraphJSON(b,a,d){var c=b.vl,e=b.el,g;for(g in e)e[g].type=d?EDGE_TYPE_UDE:EDGE_TYPE_DE,delete e[g].animateHighlighed,delete e[g].state,e[g].displayWeight=a?!1:!0;for(g in c)c[g].text=+g,delete c[g].state;b.vl=c;b.el=e;return b};function extractInfo(b,a){qnJSONArr[b]=a;qnTextArr[b]=extractQnText(a.qWording,a.qParams);qnTypeArr[b]=extractQnType(a.aType,a.aAmt);qnParamsArr[b]=extractQnParams(a.aParams);qnNoAnsArr[b]=extractQnNoAns(a.allowNoAnswer);qnGraphArr[b]=extractQnGraph(a.graphState)}
function extractQnText(b,a){toReturn=b;var d=toReturn.match(/\|[^|]+\|/g);if(null!=d)for(var c=0;c<d.length;c++){var e=d[c].replace(/\|/g,"");toReturn=toReturn.replace(d[c],a[e])}for(c=0;c<definitionsArr.length;c++)d='<u title="'+definitionsArr[c][1]+'">'+definitionsArr[c][0]+"</u>",null!=(new RegExp("(?:[^-])"+definitionsArr[c][0],"i")).exec(toReturn)&&(toReturn=toReturn.replace(definitionsArr[c][0],d));return toReturn}
function extractQnType(b,a){switch(b){case ANSWER_TYPE_VERTEX:if(a==ANSWER_AMT_ONE)return INTERFACE_SINGLE_V;if(a==ANSWER_AMT_MULTIPLE)return INTERFACE_MULT_V;break;case ANSWER_TYPE_EDGE:if(a==ANSWER_AMT_ONE)return INTERFACE_SINGLE_E;if(a==ANSWER_AMT_MULTIPLE)return INTERFACE_MULT_E;break;case ANSWER_TYPE_MCQ:return a==ANSWER_AMT_MULTIPLE?INTERFACE_MCQ_MULT:INTERFACE_MCQ;case ANSWER_TYPE_VERTEX_MCQ:if(a==ANSWER_AMT_ONE)return INTERFACE_SUBSET_SINGLE;if(a==ANSWER_AMT_MULTIPLE)return INTERFACE_SUBSET_MULT;
case ANSWER_TYPE_FILL_BLANKS:return INTERFACE_BLANK;case ANSWER_TYPE_GRAPH_DRAWING:return a==ANSWER_GRAPH_WEIGHTED_UNDIRECTED?INTERFACE_GRAPH_WEIGHTED_UNDIRECTED:a==ANSWER_GRAPH_UNWEIGHTED_UNDIRECTED?INTERFACE_GRAPH_UNWEIGHTED_UNDIRECTED:a==ANSWER_GRAPH_UNWEIGHTED_DIRECTED?INTERFACE_GRAPH_UNWEIGHTED_DIRECTED:a==ANSWER_GRAPH_WEIGHTED_DIRECTED?INTERFACE_GRAPH_WEIGHTED_DIRECTED:INTERFACE_BLANK}}function extractQnParams(b){var a=[],d;for(d in b)a.push([d,b[d]]);return a}
function extractQnNoAns(b){return b?ALLOW_NO_ANS:DISALLOW_NO_ANS}function extractQnGraph(b){var a=b.vl,d;for(d in a){var c=a[d];var e=c.cxPercentage;c.cx=e/100*MAIN_SVG_WIDTH;e=c.cyPercentage;c.cy=e/100*400}return b};var gw=new GraphWidget;$("svg").css("height","350px");var qnJSONArr=[],qnTextArr=[],qnGraphArr=[],qnTypeArr=[],qnParamsArr=[],qnNoAnsArr=[],ansArr=[],seed,topics=[],questionDifficulty,nQns,qnNo,nAnswered=0;
function customAlert(b){$("#custom-alert p").html(b);b=-1*($("#custom-alert").outerHeight()/2);$("#custom-alert").css("margin-top",b+"px");$("#dark-overlay").fadeIn(function(){$("#custom-alert").fadeIn(function(){setTimeout(function(){$("#custom-alert").fadeOut(function(){$("#dark-overlay").fadeOut()})},1E3)})})}function getNumberOfQns(){return 10}
function setUndoClearDisabled(b){$("#undo-ans").css("background",surpriseColour);$("#clear-ans").css("background",surpriseColour);$("#undo-ans").attr("disabled",b);$("#clear-ans").attr("disabled",b)}function init(){qnTextArr[0]="Is this a dummy question?";qnGraphArr[0]=jQuery.parseJSON('{"vl":{},"el":{}}');qnTypeArr[0]=0;qnParamsArr[0]=!1;qnNoAnsArr[0]=DISALLOW_NO_ANS;for(var b=0;b<=nQns;b++)ansArr[b]=UNANSWERED}
function prepareQnNav(b){$("#question-nav").html("");$("#question-nav").append('<a id="prev-qn" style="margin-right: 20px; opacity: 1.0; cursor: pointer;">PREV QN</a>');for(var a=0;a<b;a++)$("#question-nav").append('<a class="qnno">'+(a+1)+"</a>");$("#question-nav").append('<a id="next-qn" style="margin-left: 20px; opacity: 1.0; cursor: pointer;">NEXT QN</a>');$("#question-nav .qnno").eq(0).addClass("selected");$("#question-nav .qnno").click(function(){$("#question-nav .qnno").removeClass("selected");
$(this).addClass("selected");qnNo=parseInt($(this).html());showQn(qnNo)});$("#prev-qn").click(navigatePrevQn);$("#next-qn").click(navigateNextQn)}function navigatePrevQn(){1<qnNo&&(qnNo--,$("#question-nav .qnno").removeClass("selected"),$("#question-nav .qnno").eq(qnNo-1).addClass("selected"),showQn(qnNo),setTimeout(function(){document.body.style.zoom="100.1%"},100),setTimeout(function(){document.body.style.zoom="100%"},600))}
function navigateNextQn(){qnNo<nQns&&(qnNo++,$("#question-nav .qnno").removeClass("selected"),$("#question-nav .qnno").eq(qnNo-1).addClass("selected"),showQn(qnNo),setTimeout(function(){document.body.style.zoom="100.1%"},100),setTimeout(function(){document.body.style.zoom="100%"},600))}
function showQn(b){$("#qn-no").html(b+".");$("#qn-text p").html(qnTextArr[b]);gw.jumpToIteration(b,1);showAnswerInterface(b);hasBeenAnswered(b)?(showRecordedAns(b),setUndoClearDisabled(!1)):setUndoClearDisabled(!0)}function hasBeenAnswered(b){return ansArr[b]!=UNANSWERED}function setAns(b,a){hasBeenAnswered(b)||nAnswered++;ansArr[b]=a;checkComplete();$("#question-nav .qnno").eq(b-1).addClass("answered");setUndoClearDisabled(!1)}
function clearAns(b){hasBeenAnswered(b)&&nAnswered--;$("#current-selection").html("").hide();ansArr[b]=UNANSWERED;checkComplete();setUndoClearDisabled(!0)}function checkComplete(){nAnswered==nQns?$("#submit-test").show():$("#submit-test").hide()}
function submitBugReport(){var b="";"Write a short message about bug..."!=$("#bug-report-msg").val()&&(b=$("#bug-report-msg").val());d3.select("svg").attr("version",1.1).attr("xmlns","http://www.w3.org/2000/svg").selectAll("circle").attr("y",null).attr("x",null).attr("width",null).attr("height",null);$("#svg").attr("xmlns:xlink","http://www.w3.org/1999/xlink");var a=$("#viz").html(),a=a.substring(0,4)+" xmlns:xlink='http://www.w3.org/1999/xlink'"+a.substring(4),a="data:image/svg+xml;base64,"+btoa(a);
$("body").append('<canvas id="graph_canvas" width="900" height="500" style="display:none"></canvas>');var d=document.querySelector("canvas"),c=d.getContext("2d"),e=new Image;e.src=a;c.drawImage(e,0,0);a=d.toDataURL("image/png");$("#graph_canvas").remove();$.ajax({url:PHP_DOMAIN+"/php/BugReport.php?mode="+MODE_SUBMIT_BUG_REPORT,type:"POST",data:{qnTopic:qnJSONArr[qnNo].qTopic,qnType:qnJSONArr[qnNo].qType,imgURL:a,seed:seed,qnParams:qnParamsArr[qnNo].toString(),questionDifficulty:questionDifficulty,
qnNo:qnNo,topics:topics.toString(),qnGraph:JSON.stringify(qnGraphArr[qnNo]),qnText:qnTextArr[qnNo],nQns:nQns,ans:JSON.stringify(ansArr[qnNo]),anskey:JSON.stringify(anskeyArr[qnNo]),bugReportMsg:b}}).done(function(){$("#bug-report-msg").val("Write a short message about bug...")});$("#bug-report-form").fadeOut("fast");customAlert("Thank you for your input!")}
function keypressed(b){if("input"!==b.target.nodeName.toLowerCase())switch(b.keyCode){case 37:navigatePrevQn();break;case 39:navigateNextQn()}}
$(document).ready(function(){for(var b=0;b<definitionsArr.length;b++)$("#question-terminologies ul").append("<li><b>"+definitionsArr[b][0]+":</b> "+definitionsArr[b][1]+"</li>");$("input[type=button], input[type=submit]").css("background",surpriseColour);$("input[type=button], input[type=submit]").hover(function(){$(this).css("background","black")},function(){$(this).css("background",surpriseColour)});$("#bug-report-form input").click(submitBugReport);$("#bug-report-msg").click(function(){"Write a short message about bug..."==
$(this).text()&&$(this).text("")});window.addEventListener("keydown",keypressed,!0);$("#undo-ans").click(function(){var a=ansArr[qnNo];1>=a.length?($("#question-nav .qnno").eq(qnNo-1).removeClass("answered"),clearAns(qnNo)):(a.pop(),setAns(qnNo,a));gw.jumpToIteration(qnNo,1);showRecordedAns(qnNo);printCurrentSelection(qnNo)});$("#clear-ans").click(function(){$("#question-nav .qnno").eq(qnNo-1).removeClass("answered");clearAns(qnNo);gw.jumpToIteration(qnNo,1);showRecordedAns(qnNo);printCurrentSelection(qnNo)})});var definitionsArr=[];definitionsArr.push(["sequence","The order matters. Do not forget to include the starting point (if given) as the first selection"]);definitionsArr.push(["subset","One or more vertices in any order"]);definitionsArr.push(["height","Height is defined as the number of edges from the root to the deepest leaf"]);definitionsArr.push(["rank","Rank is defined as the 1-based index in the sorted list of elements of the tree"]);definitionsArr.push(["O(n) Build Heap","As defined in the VisuAlgo heap visualisation"]);
definitionsArr.push(["Adjacency Matrix","The smallest Adjacency Matrix representation for the graph"]);definitionsArr.push(["Second Best Minimum Spanning Tree","A Second Best Minimum Spanning Tree is a tree whose total weight of the edges is greater than the minimum spanning tree and lesser than any other spanning tree of the graph"]);definitionsArr.push(["type of graph","Only take into account properties of the graph. Your answer should apply to all graphs with the same properties as the graph below"]);
definitionsArr.push(["balance factor","Balance Factor is defined as the difference between the height of the left subtree and the height of the right subtree."]);definitionsArr.push(["Original Dijkstra's","Original Dijkstra's algorithm: a graph search algorithm that solves the single-source shortest path problem for a graph with non-negative edge path costs"]);definitionsArr.push(["Modified Dijkstra's","Similar to Original Dijkstra's algorithm but employs Lazy Data Structure strategy to re-enqueue and re-process edges"]);
var QUESTION_DIFFICULTY_EASY="Easy",QUESTION_DIFFICULTY_MEDIUM="Medium",QUESTION_DIFFICULTY_HARD="Hard",ANSWER_TYPE_VERTEX="vertex",ANSWER_TYPE_VERTEX_MCQ="vertexMcq",ANSWER_TYPE_EDGE="edge",ANSWER_TYPE_MCQ="mcq",ANSWER_TYPE_FILL_BLANKS="fillBlanks",ANSWER_TYPE_GRAPH_DRAWING="graphDrawing",ANSWER_AMT_ONE=1,ANSWER_AMT_MULTIPLE=2,ANSWER_GRAPH_WEIGHTED_UNDIRECTED=3,ANSWER_GRAPH_UNWEIGHTED_UNDIRECTED=4,ANSWER_GRAPH_UNWEIGHTED_DIRECTED=5,ANSWER_GRAPH_WEIGHTED_DIRECTED=6,MODE_GENERATE_QUESTIONS=0,MODE_TEST_GENERATE_QUESTIONS=
1,MODE_GET_ANSWERS=3,MODE_GET_STUDENT_ANSWERS=4,MODE_CHECK_TEST_OPEN=5,MODE_GET_ALL_OPEN_TESTS=7,MODE_GET_ALL_OPEN_ANSWERS=8,MODE_TEST_SUBMIT=9,MODE_TEST_GET_INFO=10,MODE_TEST_GET_ANSWERS=11,MODE_TEST_GET_STUDENT_ANSWERS=12,MODE_ADMIN=13,MODE_ADMIN_GET_CONFIG=14,MODE_ADMIN_GET_ALL_TESTS=15,MODE_ADMIN_ADD_TEST_CONFIG=16,MODE_ADMIN_EDIT_CONFIG=17,MODE_ADMIN_RESET_ATTEMPT=18,MODE_GET_SCOREBOARD=19,MODE_GET_PUBLIC_SCOREBOARD=20,MODE_ADMIN_GET_TRAINING_SESSION_STATS=31,MODE_USER_TEST_LOGIN=32,MODE_USER_ANSWER_LOGIN=
33,MODE_SUBMIT_BUG_REPORT=34,MODE_GET_ALL_BUG_REPORTS=35,MODE_CHANGE_PASSWORD=36,MODE_SET_BUG_FIXED=37,UNANSWERED="unanswered",NO_ANSWER="noAnswer",CORRECT="correct",TEST_GENERATE_QUESTIONS_TYPE_TEST="test",TEST_GENERATE_QUESTIONS_TYPE_ANSWER="answer";var MODE="TRAINING",anskeyArr=[],explanationArr=[];seed=Math.floor(1E9*Math.random());var clientsideTimeRefresh,timeLeft;
function startTraining(b){showLoadingScreen();$("#training-stats-link").hide();b?(nQns=10,questionDifficulty=QUESTION_DIFFICULTY_HARD,timeLimit=600):(nQns=$("#question-amount-input").val(),questionDifficulty=$("#question-difficulty-ddl").val(),timeLimit=$("#question-time-limit-ddl").val());if(0>=nQns||20<nQns)nQns=getNumberOfQns();localStorage.n=nQns;localStorage.diff=questionDifficulty;localStorage.tl=timeLimit/60;$.ajax({url:"training/getQuestions",data:{mode:MODE_GENERATE_QUESTIONS,qAmt:nQns,seed:seed,
topics:topics.toString(),questionDifficulty:questionDifficulty}}).done(function(a){data=[];for(var b=0;b<nQns;b++)data[b]=JSON.parse(a[b]);init();for(b=1;b<=nQns;b++)extractInfo(b,data[b-1]);prepareQnNav(nQns);$("#topics-screen").fadeOut("fast");$("#test-screen").fadeIn("fast");$("#ans-key").hide();$("#info").show();$("#restart-test").hide();gw.startAnimation(qnGraphArr);gw.pause();qnNo=1;showQn(qnNo);1<=timeLimit?(timeLeft=timeLimit,clientsideTimeUpdate(),clientsideTimeRefresh=setInterval(function(){clientsideTimeUpdate()},
1E3)):timeLimit=0;hideLoadingScreen();storeTrainingSettings(nQns,topics,questionDifficulty,timeLimit)}).fail(function(a,b,c){hideLoadingScreen();customAlert("You have not cleared the pre-requisite of some topics!")})}
function submitTraining(){$("#dark-overlay").fadeOut();showLoadingScreen();ansArr.shift();var b=ansArr.join("|").split("|");ansArr.unshift(!1);$.ajax({url:"training/getAnswers",method:"POST",data:{qAmt:nQns,seed:seed,topics:topics.toString(),questionDifficulty:questionDifficulty,ans:b}}).done(function(a){a=JSON.parse(a);for(var b=a.ansList,c=0;c<b.length;c++)anskeyArr[c+1]=b[c],explanationArr[c+1]=a.explanation[c];hideLoadingScreen();$("#time-left").html("");clearInterval(clientsideTimeRefresh);a=
parseInt(a.score);$("#score").html(a+" out of "+nQns);$("#test-screen").fadeOut("fast");$("#result-screen").fadeIn("fast");storeMyTrainingStats(a)}).fail(function(a,b,c){console.log(a.responseText);console.log(b);console.log(c)})}
function startAns(){ansArr.shift();ansArr.unshift(!1);$("#result-screen").fadeOut("fast");$("#test-screen").fadeIn("fast");$("#ans-key").show();$("#undo-ans").hide();$("#clear-ans").hide();$("#submit-test").hide();$("#restart-test").show();$("#question-nav .qnno").removeClass("selected");$("#question-nav .qnno").eq(0).addClass("selected");qnNo=1;showQn(qnNo)}function checkComplete(){}
function showQuizSubmitConfirmation(){$("#dark-overlay").fadeIn(function(){$("#submission-confirmation").fadeIn()})}function hideQuizSubmitConfirmation(){$("#submission-confirmation").fadeOut("fast");$("#dark-overlay").fadeOut("fast")}
function loadMyTrainingStats(){$("#topics-screen .topic").each(function(){var b=$(this).attr("data-name"),a=localStorage.getItem("myTrainingStats"+$(this).attr("data-name")+"Attempts");null==a?$('.training-stats-times-attempted[data-name="'+b+'"]').text(0):$('.training-stats-times-attempted[data-name="'+b+'"]').text(a)});null!=localStorage.getItem("myTrainingStatsHighestScore")&&null!=localStorage.getItem("myTrainingStatsHighestNQns")?$("#training-stats-highest").text(localStorage.getItem("myTrainingStatsHighestScore")+
"/"+localStorage.getItem("myTrainingStatsHighestNQns")):$("#training-stats-highest").text("-");null!=localStorage.getItem("myTrainingStatsLatestScore")&&null!=localStorage.getItem("myTrainingStatsLatestNQns")?$("#training-stats-current").text(localStorage.getItem("myTrainingStatsLatestScore")+"/"+localStorage.getItem("myTrainingStatsLatestNQns")):$("#training-stats-current").text("-")}
function storeMyTrainingStats(b){localStorage.setItem("myTrainingStatsLatestScore",b);localStorage.setItem("myTrainingStatsLatestNQns",nQns);if(null==localStorage.getItem("myTrainingStatsHighestScore")||null==localStorage.getItem("myTrainingStatsHighestNQns"))localStorage.setItem("myTrainingStatsHighestScore",b),localStorage.setItem("myTrainingStatsHighestNQns",nQns);else{var a=localStorage.getItem("myTrainingStatsHighestScore")/localStorage.getItem("myTrainingStatsHighestNQns");b/nQns>=a&&(localStorage.setItem("myTrainingStatsHighestScore",
b),localStorage.setItem("myTrainingStatsHighestNQns",nQns))}for(b=0;b<topics.length;b++)a=localStorage.getItem("myTrainingStats"+topics[b]+"Attempts"),null==a?a=0:a++,localStorage.setItem("myTrainingStats"+topics[b]+"Attempts",a)}function storeTrainingSettings(b,a,d,c){localStorage.setItem("nQns",b);localStorage.setItem("topics",a.toString());localStorage.setItem("questionDifficulty",d);localStorage.setItem("timeLeft",c)}
function loadTrainingSettings(){null!=localStorage.getItem("nQns")?$("#question-amount-input").val(localStorage.getItem("nQns")):$("#question-amount-input").val(getNumberOfQns());null==localStorage.getItem("questionDifficulty")||isNaN(parseInt(localStorage.getItem("questionDifficulty")))?$("#question-difficulty-ddl").val("Medium"):$("#question-difficulty-ddl").val(localStorage.getItem("questionDifficulty"));null!=localStorage.getItem("timeLeft")?$("#question-time-limit-ddl").val(localStorage.getItem("timeLeft")):
$("#question-time-limit-ddl").val(0)}function clientsideTimeUpdate(){var b=Math.floor(timeLeft/60).toString(),a=(timeLeft%60).toString();2>a.length&&(a="0"+a);60<timeLeft?$("#time-left").html(b+" min left"):$("#time-left").html(a+" s left");0>=timeLeft?submitTraining():timeLeft--}
$(function(){$("#question-nav").css("background-color",surpriseColour);$("#training-stats-link").click(function(){$("#dark-overlay").fadeIn(function(){$("#my-training-stats").fadeIn()})});$("#topics-screen .topic").each(function(){$(this).hasClass("topic-selected")?($(this).children("img").removeClass("grayscale"),topics.push($(this).attr("data-name"))):$(this).children("img").addClass("grayscale")});$("#topics-screen .topic").click(function(){if(!$(this).is("[disabled=disabled]"))if($(this).hasClass("topic-selected")){$(this).children("img").addClass("grayscale");
$(this).removeClass("topic-selected");var b=topics.indexOf($(this).attr("data-name"));topics.splice(b,1)}else $(this).children("img").removeClass("grayscale"),$(this).addClass("topic-selected"),topics.push($(this).attr("data-name"))});$("#select-all-button").click(function(){topics=[];$("#topics-screen .topic").each(function(){if($(this).is("[disabled=disabled]"))return!0;$(this).children("img").removeClass("grayscale");$(this).addClass("topic-selected");topics.push($(this).attr("data-name"))})});
$("#select-cs1020-button").click(function(){topics=[];$("#topics-screen .topic").each(function(){if($(this).is("[disabled=disabled]"))return!0;$(this).children("img").addClass("grayscale");$(this).removeClass("topic-selected")});$("#topics-screen .quiz-cs1020").each(function(){if($(this).is("[disabled=disabled]"))return!0;$(this).children("img").removeClass("grayscale");$(this).addClass("topic-selected");topics.push($(this).attr("data-name"))})});$("#select-quiz-1-button").click(function(){topics=
[];$("#topics-screen .topic").each(function(){if($(this).is("[disabled=disabled]"))return!0;$(this).children("img").addClass("grayscale");$(this).removeClass("topic-selected")});$("#topics-screen .quiz-1").each(function(){if($(this).is("[disabled=disabled]"))return!0;$(this).children("img").removeClass("grayscale");$(this).addClass("topic-selected");topics.push($(this).attr("data-name"))})});$("#select-quiz-2-button").click(function(){topics=[];$("#question-difficulty-ddl").val(QUESTION_DIFFICULTY_HARD);
$("#question-time-limit-ddl").val(2100);$("#question-amount-input").val(20);$("#topics-screen .topic").each(function(){if($(this).is("[disabled=disabled]"))return!0;$(this).children("img").addClass("grayscale");$(this).removeClass("topic-selected")});$("#topics-screen .quiz-2").each(function(){if($(this).is("[disabled=disabled]"))return!0;$(this).children("img").removeClass("grayscale");$(this).addClass("topic-selected");topics.push($(this).attr("data-name"))})});$("#select-clear-button").click(function(){topics=
[];$("#topics-screen .topic").each(function(){if($(this).is("[disabled=disabled]"))return!0;$(this).children("img").addClass("grayscale");$(this).removeClass("topic-selected")})});$("#start-training").css("background-color",surpriseColour);$("#start-training").hover(function(){$(this).css("background-color","black")},function(){$(this).css("background-color",surpriseColour)});$("#start-training").click(function(){questionDifficulty=$("#question-difficulty-ddl :selected").text();questionDifficulty!=
QUESTION_DIFFICULTY_EASY&&questionDifficulty!=QUESTION_DIFFICULTY_MEDIUM&&questionDifficulty!=QUESTION_DIFFICULTY_HARD&&customAlert("Invalid question difficult setting!");0<topics.length?startTraining(!1):customAlert("Please select some topics first!")});$("#clear-topic").click(function(){1!=topics.length?customAlert("You must only select 1 topic, no more no less!"):(questionDifficulty=QUESTION_DIFFICULTY_HARD,0<topics.length?startTraining(!0):customAlert("Please select some topics first!"))});$("#submit-test").click(function(){nAnswered==
nQns?submitTraining():showQuizSubmitConfirmation()});$("#submission-confirmation-no-btn").click(function(){hideQuizSubmitConfirmation()});$("#submission-confirmation-yes-btn").click(function(){hideQuizSubmitConfirmation();submitTraining()});$("#goto-answer").css("background-color",surpriseColour);$("#goto-answer").hover(function(){$(this).css("background-color","black")},function(){$(this).css("background-color",surpriseColour)});$("#goto-answer").click(function(){MODE="ANSWER";startAns()});$("#restart-test").click(function(){location.reload()});
loadTrainingSettings();loadMyTrainingStats()});
